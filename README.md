# Advent of Code 2025 - Test-Driven Development with AI Agents

This repository uses a complete **Test-Driven Development (TDD) workflow** with AI agents to solve Advent of Code 2025 puzzles.

## Approach

This project orchestrates multiple AI agents in a TDD workflow:

1. **Architect Agent**: Fetches the puzzle and creates a comprehensive specification
2. **SDET Agent**: Reviews the spec and creates comprehensive unit tests (before implementation!)
3. **Implementer Agent**: Writes code to make the tests pass (Red-Green-Refactor)
4. **Test Runner**: Validates the solution
5. **Optimizer**: Improves performance after correctness is established

## Quick Start

Solve any day's puzzle with a single command:

```bash
./solve-day.py <day> <model>
```

Examples:
```bash
./solve-day.py 5 gpt-5.1-codex
./solve-day.py 12 claude-sonnet-4.5
./solve-day.py 25 big-pickle
```

The script will orchestrate the complete TDD workflow automatically!

## Directory Structure

```
aoc-2025/
├── specs/          # Problem specifications for each day
├── solutions/      # Implemented solutions (generated by AI agents)
├── templates/      # Templates for specs and solutions
└── .opencode/      # Configuration for Opencode agent manager
```

## Automated Workflow Script

The `solve-day.py` script orchestrates the complete TDD workflow:

```bash
./solve-day.py <day> <model>
```

### What It Does

**Stage 1: Architect**
- Fetches the puzzle from adventofcode.com
- Analyzes the problem thoroughly
- Creates a comprehensive specification in `specs/day-XX.md`
- Includes algorithm analysis, data structures, and test plan

**Stage 2: SDET (Test-First!)**
- Reviews the specification
- Extracts example test cases with expected outputs
- Identifies edge cases and boundary conditions
- Creates comprehensive test suite in `test_solution.py`
- Verifies tests fail (no implementation yet - RED phase)

**Stage 3: Implementer**
- Reviews the spec and tests
- Implements `parse_input()` function
- Implements `solve_part1()` to make tests pass (GREEN phase)
- Refactors for code quality
- Runs tests to verify Part 1 passes

### Prerequisites

1. **AoC Session Cookie** (optional, for auto-fetching input):
   ```bash
   echo "your_session_cookie" > ~/.adventofcode.session
   ```
   
2. **OpenCode** with configured agents (see `AGENTS.md`)

### Available Models

**Recommended Models:**
- `gpt-5.1-codex` - Latest OpenAI coding-focused model
- `claude-sonnet-4.5` - Anthropic's balanced reasoning model
- `big-pickle` - OpenCode Zen's flagship model
- `gemini-2.5-pro` - Google's latest model

**Other Options:**
- See [WORKFLOW.md](WORKFLOW.md) for complete model list with 25+ options

## Manual Workflow

If you prefer to run agents manually:

### 1. Create Spec with Architect

```bash
@architect Analyze day 5 puzzle at https://adventofcode.com/2025/day/5 and create spec
```

### 2. Create Tests with SDET

```bash
@sdet Review specs/day-05.md and create comprehensive tests
```

### 3. Implement with Implementer

```bash
@implementer Review specs/day-05.md and tests, implement Part 1 solution
```

## Directory Convention

```
aoc-2025/
├── specs/              # Specifications (created by Architect)
│   ├── day-01.md
│   ├── day-02.md
│   └── ...
├── solutions/          # Solutions (created by Implementer)
│   ├── day-01/
│   │   ├── solution.py
│   │   ├── test_solution.py
│   │   └── input.txt
│   └── ...
├── templates/          # Templates for new days
└── .opencode/          # Agent configurations and prompts
```

## Why Test-Driven Development?

- **Correctness First**: Tests define what "correct" means before writing code
- **Confidence**: Green tests give confidence the solution is right
- **Edge Cases**: SDET agent thinks critically about boundaries
- **Refactoring**: Can improve code safely with test coverage
- **Documentation**: Tests serve as executable specification
- **AI Collaboration**: Clear contract between agents

## Agent Roles

See [AGENTS.md](AGENTS.md) for detailed information about each agent:

- **Architect**: Problem analysis and spec creation
- **SDET**: Comprehensive test implementation (TDD)
- **Implementer**: Solution implementation (makes tests pass)
- **Test Runner**: Solution validation
- **Optimizer**: Performance improvement
- **Build**: Full-access development mode
- **Plan**: Read-only planning mode